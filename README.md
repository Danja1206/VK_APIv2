# Введение

Данное приложение представляет собой RESTful API, которое обеспечивает взаимодействие с базой данных через HTTP-запросы. Оно использует пакет `mux` для маршрутизации и `gorilla/mux` для обработки запросов.

# Описание проекта 
## Обработчики HTTP-запросов

В приложении реализованы следующие обработчики HTTP-запросов:

-   `POST /user`: Создание нового пользователя.
- Тело запроса:
	```json
	{
	"name" : "U_Test1"
	"balance" : 234
	}
	```
    
-   `POST /quest`: Создание нового квеста.
-   
    Тело запроса:
	```json
	{
	"name" : "Q_Test1"
	"cost" : 234,
	"is_unique" : false,
	"max_limit" : 2,
	"exp" : 250
	}
	```
    
-   `POST /big-quest`: Создание многошагового квеста.
-   
    Тело запроса:
	```json
	{
	"name" : "Q_Test1"
	"cost" : 234,
	"steps": [
		{
		"quest_id" : 1,
		"order" : 1
		},
		{
		"quest_id" : 2,
		"order" : 2
		}
	    ]
	}
	```
    
-   `POST /complete`: Выполнение квеста.
		- Тело запроса:
	```json
	{
	"quest_id" : 1,
	"user_id" : 1
	}
	```
    
-   `POST /daily-reward`: Получение ежедневной награды.
		- Тело запроса:
	```json
	{
	"user_id" : 1
	}
	```
    
-   `POST /complete-big`: Выполнение многошагового квеста.
		- Тело запроса:
	```json
	{
	"user_id" : 1,
	"big_quest_id" : 1
	}
	```
    
-   `GET /history/{user_id}`: Получение данных о выполненных квестах пользователя по его ID.
    

Все обработчики обернуты в middleware  `WithDBContextMiddleware`, который добавляет подключение к базе данных в контекст запроса.
# Запуск проекта
Для запуска необходимо:
1. 

Запуск проекта осуществляется из папки с docker-файлом. Для запуска необходимо использовать команду `docker-compose up`
Проект работает на порту - `8080`
База данных MySQL на порту - `3206`

# UNIX-тесты

Находятся в папке `./api/handlers_test/` запуск осуществляется командой `go test` из папки, или `go test ./путь до handlers_test/`

